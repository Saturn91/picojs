# PicoJS

PicoJS is a tool to 'pack' and 'unpack' .p8 files so that you can more easily work on them in other editors / programs.

## Installation

### Conditions
1. node has to be installed (check with `node -v`) and if needed get it [here](https://nodejs.org/en/download/)
2. once node is installed typescript needs to be installed locally run `npm install -g typescript`

### Install picojs as a terminal tool
1. download the source code
2. open a terminal at the ``picojs` location
3. run `npm install` (a node_module folder apears after some time)
4. run `tsc` (the dest folder is generated)
3. `npm link`(make the tool available on your global system)

Following these steps should link the generated `dest/app.js` to the command `picojs`

## Use

PicoJs assumes that your .p8 file is in a directory specifically for that game or project. E.g. `dungeongame/dungeongame.p8`

### Unpack: `picojs unpack`

Unpacking is the process of taking the .p8 file and breaking it up into its component parts.

Go to the directory containing your .p8 file and type `picojs unpack`.

This will create the following subfolders and files where `<FILENAME>` is the name of your .p8 file with the file ending removed. E.g. `dungeongame.p8` -> `dungeongame`:

- `src/lua/<FILENAME>.lua`: the code of your p8 game.
- `src/spritesheet/<FILENAME>_ss.png`: the spritesheet rendered as a png.
- `src/map/<FILENAME>_map.json`: the map as a json file.

### Pack: `picojs pack`

Pack reverses the process and composes the component files in the locations generated by unpack back into a .p8 file. 

To pack, simply: `picojs pack` in the folder containing your .p8 file.

### Init: `picojs init`

Will create a new .p8 file as well as the subfolders and files created by the `unpack` command. The .p8 file will be named the directory name. E.g. if you run `picojs init` in a directory named `dungeongame` then the created .p8 file will be `dungeongame.p8`.
